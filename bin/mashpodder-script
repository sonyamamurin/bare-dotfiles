#!/usr/bin/env bash

# This is a sample script to run mashpodder from a cron job.  There are many
# better ways to do this; this is just an example.  This script will capture
# the mashpodder output into a dailypodcastlog.txt file, which is overwritten
# each day, and will then append this daily log into the permpodcastlog.txt to
# create a permanent record.
#
# USAGE: save this script somewhere convenient, e.g. $HOME/bin, make it
# executable, change the necessary settings, and set a cron job, e.g.:
# 02 01 * * * /home/user/bin/sample-wrapper-for-cron.sh

# baseDir: Location of mashpodder and related files are located
baseDir=$HOME/saved/Podcast.Collection/

# dailyLog/permLog: Location and name of daily and permanent log files
dailyLog=$baseDir/dailypodcastlog.txt
permLog=$baseDir/permpodcastlog.txt

# Now, the actual wrapper part.  First, run mashpodder and send output to
# the $dailyLog:
$baseDir/mashpodder.sh > $dailyLog 2>&1

# Next, concatenate this to the $permLog.
cat $dailyLog >> $permLog

exit 0
